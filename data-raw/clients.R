clients_list <- c(
  "actransit",
  "albemarle",
  "alexandria",
  "alleghenycounty",
  "allentownpa",
  "annapolismd",
  "apachejunction",
  "arapahoe",
  "baltimore",
  "bart",
  "bellevue",
  "boston",
  "brevardfl",
  "brokenarrow",
  "cabq",
  "canton",
  "carrboro",
  "carson",
  "charlottenc",
  "chathamnc",
  "cherokee",
  "chicago",
  "chicagoparkdistrict",
  "chulavista",
  "cincinnatioh",
  "cityofbrookings",
  "cityofcleveland",
  "cityofcommerce",
  "cityofdallas",
  "cityoflewisville",
  "cityofmerced",
  "cityofnorthport",
  "cityoforange",
  "cityofracine",
  "cityoftacoma",
  "clark",
  "clearwater",
  "cmap",
  "cobergennj",
  "coconutcreek",
  "coloradosprings",
  "columbus",
  "contra-costa",
  "cook-county",
  "corpuschristi",
  "costamesa",
  "countyofkane",
  "culver-city",
  "cupertino",
  "dane",
  "dekalbcountyga",
  "deltona",
  "denver",
  "douglascounty",
  "dupage",
  "eldorado",
  "fortlauderdale",
  "fresno",
  "fulton",
  "gahanna",
  "galvestoncountytx",
  "geneseecountymi",
  "guilford",
  "hallandalebeach",
  "hampton",
  "harrisonburg-va",
  "harrisoncounty",
  "hayward",
  "hennepinmn",
  "hermosabeach",
  "hillsboroughcounty",
  "hollywoodfl",
  "houstonisd",
  "humboldt",
  "huntingtonbeach",
  "huntsvilleal",
  "hyattsville-md",
  "ircgov",
  "jacksonco",
  "jaxcityc",
  "jonesboro",
  "killeen",
  "kpb",
  "lacdrp",
  "lackawanna",
  "lakehavasucity",
  "laramiecounty",
  "lawtonok",
  "leaguecity",
  "ledyardct",
  "littletongov",
  "longbeach",
  "lossan",
  "louisville",
  "madison",
  "mansfield",
  "marcoisland",
  "marionfl",
  "mauicounty",
  "mecklenburg",
  "mesa",
  "mesquite",
  "metro",
  "milwaukee",
  "milwaukeecounty",
  "minnesotapuc",
  "miramar",
  "mmsd",
  "monterey",
  "mtc",
  "mwdh2o",
  "mwrd",
  "napa",
  "naperville",
  "newark",
  "newbraunfels",
  "newportbeach",
  "northfield",
  "nrhtx",
  "nyc",
  "oakland",
  "occompt",
  "octa",
  "oklahomacounty",
  "olatheks",
  "olympia",
  "oregonmetro",
  "orlandpark",
  "ousd",
  "pensacola",
  "peoriail",
  "pflugerville",
  "pima",
  "pinellas",
  "pittsburgh",
  "polkcountyfl",
  "pomona",
  "portofoakland",
  "powd",
  "ppines",
  "princegeorgescountymd",
  "psl",
  "rialto",
  "riversideca",
  "roch",
  "roundrock",
  "salinas",
  "sanantonio",
  "sandyutah",
  "sanjose",
  "sanleandro",
  "sanmateocounty",
  "sanpablo",
  "santabarbara",
  "santaclara",
  "scvwd",
  "seattle",
  "seminolecountyfl",
  "sfgov",
  "sitka",
  "sjrs",
  "slco",
  "snohomish",
  "somervillema",
  "sonoma-county",
  "stockton",
  "stpaul",
  "sullivancountyny",
  "tehamacounty",
  "temeculaca",
  "toledo",
  "unioncountync",
  "uptexas",
  "venice",
  "wake",
  "waukesha",
  "wellington",
  "westalliswi",
  "whatcom",
  "winston-salem"
)

client_responses <- purrr::map(
  clients_list,
  \(x) {
    rlang::try_fetch(
      legistar_get_bodies(client = x),
      error = function(cnd) {
        return(NA_character_)
      }
    )
  }
)

client_had_response <- purrr::map_lgl(
  client_responses,
  \(x) {
    is.data.frame(x)
  }
)

clients <- data.frame(
  "client" = clients_list,
  "api" = client_had_response
)

usethis::use_data(clients, overwrite = TRUE)
