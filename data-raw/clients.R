clients_list <- c(
  "a2gov",
  "actransit",
  "adcogov",
  "alameda",
  "albemarle",
  "alexandria",
  "alleghenycounty",
  "allentownpa",
  "annapolismd",
  "apachejunction",
  "arapahoe",
  "ashecounty",
  "austintexas",
  "baldwincountyal",
  "baltimore",
  "barrie",
  "bart",
  "bellevue",
  "boerne",
  "boston",
  "brazoriacountytx",
  "brevardfl",
  "brokenarrow",
  "cabq",
  "campo",
  "canton",
  "capmetrotx",
  "carrboro",
  "carrolltontx",
  "carson",
  "castlerock-co",
  "chapelhill",
  "charlottenc",
  "chathamnc",
  "cherokee",
  "chicago",
  "chicagoparkdistrict",
  "chino",
  "chulavista",
  "cincinnatioh",
  "cityfortbragg",
  "cityofappleton",
  "cityofbrookings",
  "cityofcleveland",
  "cityofcommerce",
  "cityofdallas",
  "cityofdeerpark",
  "cityoflacrosse",
  "cityoflaredo",
  "cityoflewisville",
  "cityofmerced",
  "cityofnorthport",
  "cityoforange",
  "cityofracine",
  "cityofseguintx",
  "cityofsignalhill",
  "cityoftacoma",
  "claremontca",
  "clark",
  "clearwater",
  "cmap",
  "cobergennj",
  "cocoa",
  "coconutcreek",
  "coloradosprings",
  "columbus",
  "commerce",
  "concordnh",
  "contra-costa",
  "cook-county",
  "coppell",
  "coralgables",
  "corona",
  "corpuschristi",
  "costamesa",
  "countyofkane",
  "countyoflake",
  "culver-city",
  "cupertino",
  "dane",
  "dekalbcountyga",
  "deltona",
  "denton-tx",
  "denver",
  "douglascounty",
  "duluth-mn",
  "dupage",
  "durhamcounty",
  "dwsd",
  "easternband",
  "eldorado",
  "elpasotexas",
  "emeryville",
  "erie",
  "farmersbranch",
  "fortlauderdale",
  "fortworthgov",
  "fpdcc",
  "franklintn",
  "fresno",
  "fresnocounty",
  "fulton",
  "gahanna",
  "gainesville",
  "galvestoncountytx",
  "gaston",
  "geneseecountymi",
  "glwater",
  "gocolumbiamo",
  "goleta",
  "goodyear",
  "guilford",
  "hallandalebeach",
  "hampton",
  "harriscountytx",
  "harrisonburg-va",
  "harrisoncounty",
  "hayward",
  "hennepinmn",
  "hermosabeach",
  "hernandocountyfl",
  "hernandoschools",
  "hesperia",
  "highpoint",
  "hillsboroughcounty",
  "hollywoodfl",
  "houstonisd",
  "hudson",
  "humboldt",
  "huntingtonbeach",
  "huntsvilleal",
  "hyattsville-md",
  "idahofalls",
  "ircgov",
  "jacksonco",
  "jaxcityc",
  "jcc",
  "joliet",
  "jonesboro",
  "kansascity",
  "keywest",
  "killeen",
  "kingcounty",
  "kpb",
  "lacdrp",
  "lackawanna",
  "lakecounty",
  "lakehavasucity",
  "laramiecounty",
  "lassen",
  "lawtonok",
  "leaguecity",
  "ledyardct",
  "lexington",
  "littletongov",
  "lombard",
  "longbeach",
  "losalamos",
  "lossan",
  "louisville",
  "lsmo",
  "lubbockcounty",
  "madison",
  "manhattanbeach",
  "mansfield",
  "marcoisland",
  "margatefl",
  "maricopa",
  "marionfl",
  "martin",
  "mauicounty",
  "mecklenburg",
  "mesa",
  "mesquite",
  "metro",
  "milwaukee",
  "milwaukeecounty",
  "minnesotapuc",
  "miramar",
  "mmsd",
  "monterey",
  "mtc",
  "murrieta",
  "mwdh2o",
  "mwrd",
  "mysanibel",
  "napa",
  "napacity",
  "naperville",
  "nashville",
  "nevco",
  "newark",
  "newbraunfels",
  "newhaven-ct",
  "newportbeach",
  "northfield",
  "nrhtx",
  "nyc",
  "oak-park",
  "oakland",
  "ocala",
  "occompt",
  "octa",
  "oklahomacounty",
  "olatheks",
  "olympia",
  "oregonmetro",
  "orlandpark",
  "ousd",
  "paradisevalleyaz",
  "pensacola",
  "peoriail",
  "pflugerville",
  "phila",
  "phoenix",
  "pima",
  "pinellas",
  "pinellaspark",
  "pittsburgh",
  "polkcountyfl",
  "pomona",
  "pompano",
  "portofoakland",
  "portofsandiego",
  "powd",
  "ppines",
  "princegeorgescountymd",
  "psl",
  "ramseycountymn",
  "redmond",
  "redondo",
  "rialto",
  "richmondva",
  "riversideca",
  "roch",
  "romeoville",
  "roundrock",
  "rutherfordcountync",
  "salinas",
  "sanantonio",
  "sanbernardino",
  "sandyutah",
  "sanjose",
  "sanleandro",
  "sanmateocounty",
  "sanpablo",
  "santabarbara",
  "santaclara",
  "sbcera",
  "scvwd",
  "sdcounty",
  "seattle",
  "seminolecountyfl",
  "sfgov",
  "sitka",
  "sjrs",
  "slco",
  "smyrnacity",
  "snohomish",
  "solano",
  "somervillema",
  "sonoma-county",
  "stcharlesgov",
  "stockton",
  "stpaul",
  "sullivancountyny",
  "sunnyvaleca",
  "tehamacounty",
  "temeculaca",
  "toledo",
  "unioncountync",
  "uptexas",
  "valdez",
  "venice",
  "vicksburg-ms",
  "visalia",
  "wake",
  "washoe-nv",
  "waukesha",
  "wellington",
  "westalliswi",
  "westchestercountyny",
  "westchestercountynyexec",
  "whatcom",
  "windhamweb",
  "winston-salem"
)

client_responses <- purrr::map(
  clients_list,
  \(x) {
    rlang::try_fetch(
      legistar_get_bodies(client = x),
      error = function(cnd) {
        return(NA_character_)
      }
    )
  }
)

client_had_response <- purrr::map_lgl(
  client_responses,
  \(x) {
    is.data.frame(x)
  }
)

legistar_clients <- data.frame(
  "client" = clients_list,
  "api" = client_had_response
)

usethis::use_data(legistar_clients, overwrite = TRUE)
